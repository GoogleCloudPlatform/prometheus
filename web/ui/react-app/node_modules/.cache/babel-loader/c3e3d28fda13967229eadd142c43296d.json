{"ast":null,"code":"/*\r\n * jquery.flot.tooltip\r\n * \r\n * description: easy-to-use tooltips for Flot charts\r\n * version: 0.9.0\r\n * authors: Krzysztof Urbas @krzysu [myviews.pl],Evan Steinkerchner @Roundaround\r\n * website: https://github.com/krzysu/flot.tooltip\r\n * \r\n * build on 2016-07-26\r\n * released under MIT License, 2012\r\n*/\n(function ($) {\n  // plugin options, default values\n  var defaultOptions = {\n    tooltip: {\n      show: false,\n      cssClass: \"flotTip\",\n      content: \"%s | X: %x | Y: %y\",\n      // allowed templates are:\n      // %s -> series label,\n      // %c -> series color,\n      // %lx -> x axis label (requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels),\n      // %ly -> y axis label (requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels),\n      // %x -> X value,\n      // %y -> Y value,\n      // %x.2 -> precision of X value,\n      // %p -> percent\n      // %n -> value (not percent) of pie chart\n      xDateFormat: null,\n      yDateFormat: null,\n      monthNames: null,\n      dayNames: null,\n      shifts: {\n        x: 10,\n        y: 20\n      },\n      defaultTheme: true,\n      snap: true,\n      lines: false,\n      clickTips: false,\n      // callbacks\n      onHover: function onHover(flotItem, $tooltipEl) {},\n      $compat: false\n    }\n  }; // dummy default options object for legacy code (<0.8.5) - is deleted later\n\n  defaultOptions.tooltipOpts = defaultOptions.tooltip; // object\n\n  var FlotTooltip = function FlotTooltip(plot) {\n    // variables\n    this.tipPosition = {\n      x: 0,\n      y: 0\n    };\n    this.init(plot);\n  }; // main plugin function\n\n\n  FlotTooltip.prototype.init = function (plot) {\n    var that = this; // detect other flot plugins\n\n    var plotPluginsLength = $.plot.plugins.length;\n    this.plotPlugins = [];\n\n    if (plotPluginsLength) {\n      for (var p = 0; p < plotPluginsLength; p++) {\n        this.plotPlugins.push($.plot.plugins[p].name);\n      }\n    }\n\n    plot.hooks.bindEvents.push(function (plot, eventHolder) {\n      // get plot options\n      that.plotOptions = plot.getOptions(); // for legacy (<0.8.5) implementations\n\n      if (typeof that.plotOptions.tooltip === 'boolean') {\n        that.plotOptions.tooltipOpts.show = that.plotOptions.tooltip;\n        that.plotOptions.tooltip = that.plotOptions.tooltipOpts;\n        delete that.plotOptions.tooltipOpts;\n      } // if not enabled return\n\n\n      if (that.plotOptions.tooltip.show === false || typeof that.plotOptions.tooltip.show === 'undefined') return; // shortcut to access tooltip options\n\n      that.tooltipOptions = that.plotOptions.tooltip;\n\n      if (that.tooltipOptions.$compat) {\n        that.wfunc = 'width';\n        that.hfunc = 'height';\n      } else {\n        that.wfunc = 'innerWidth';\n        that.hfunc = 'innerHeight';\n      } // create tooltip DOM element\n\n\n      var $tip = that.getDomElement(); // bind event\n\n      $(plot.getPlaceholder()).bind(\"plothover\", plothover);\n\n      if (that.tooltipOptions.clickTips) {\n        $(plot.getPlaceholder()).bind(\"plotclick\", plotclick);\n      }\n\n      that.clickmode = false;\n      $(eventHolder).bind('mousemove', mouseMove);\n    });\n    plot.hooks.shutdown.push(function (plot, eventHolder) {\n      $(plot.getPlaceholder()).unbind(\"plothover\", plothover);\n      $(plot.getPlaceholder()).unbind(\"plotclick\", plotclick);\n      plot.removeTooltip();\n      $(eventHolder).unbind(\"mousemove\", mouseMove);\n    });\n\n    function mouseMove(e) {\n      var pos = {};\n      pos.x = e.pageX;\n      pos.y = e.pageY;\n      plot.setTooltipPosition(pos);\n    }\n    /**\r\n     *  open the tooltip (if not already open) and freeze it on the current position till the next click\r\n     */\n\n\n    function plotclick(event, pos, item) {\n      if (!that.clickmode) {\n        // it is the click activating the clicktip\n        plothover(event, pos, item);\n\n        if (that.getDomElement().is(\":visible\")) {\n          $(plot.getPlaceholder()).unbind(\"plothover\", plothover);\n          that.clickmode = true;\n        }\n      } else {\n        // it is the click deactivating the clicktip\n        $(plot.getPlaceholder()).bind(\"plothover\", plothover);\n        plot.hideTooltip();\n        that.clickmode = false;\n      }\n    }\n\n    function plothover(event, pos, item) {\n      // Simple distance formula.\n      var lineDistance = function lineDistance(p1x, p1y, p2x, p2y) {\n        return Math.sqrt((p2x - p1x) * (p2x - p1x) + (p2y - p1y) * (p2y - p1y));\n      }; // Here is some voodoo magic for determining the distance to a line form a given point {x, y}.\n\n\n      var dotLineLength = function dotLineLength(x, y, x0, y0, x1, y1, o) {\n        if (o && !(o = function (x, y, x0, y0, x1, y1) {\n          if (typeof x0 !== 'undefined') return {\n            x: x0,\n            y: y\n          };else if (typeof y0 !== 'undefined') return {\n            x: x,\n            y: y0\n          };\n          var left,\n              tg = -1 / ((y1 - y0) / (x1 - x0));\n          return {\n            x: left = (x1 * (x * tg - y + y0) + x0 * (x * -tg + y - y1)) / (tg * (x1 - x0) + y0 - y1),\n            y: tg * left - tg * x + y\n          };\n        }(x, y, x0, y0, x1, y1), o.x >= Math.min(x0, x1) && o.x <= Math.max(x0, x1) && o.y >= Math.min(y0, y1) && o.y <= Math.max(y0, y1))) {\n          var l1 = lineDistance(x, y, x0, y0),\n              l2 = lineDistance(x, y, x1, y1);\n          return l1 > l2 ? l2 : l1;\n        } else {\n          var a = y0 - y1,\n              b = x1 - x0,\n              c = x0 * y1 - y0 * x1;\n          return Math.abs(a * x + b * y + c) / Math.sqrt(a * a + b * b);\n        }\n      };\n\n      if (item) {\n        plot.showTooltip(item, that.tooltipOptions.snap ? item : pos);\n      } else if (that.plotOptions.series.lines.show && that.tooltipOptions.lines === true) {\n        var maxDistance = that.plotOptions.grid.mouseActiveRadius;\n        var closestTrace = {\n          distance: maxDistance + 1\n        };\n        var ttPos = pos;\n        $.each(plot.getData(), function (i, series) {\n          var xBeforeIndex = 0,\n              xAfterIndex = -1; // Our search here assumes our data is sorted via the x-axis.\n          // TODO: Improve efficiency somehow - search smaller sets of data.\n\n          for (var j = 1; j < series.data.length; j++) {\n            if (series.data[j - 1][0] <= pos.x && series.data[j][0] >= pos.x) {\n              xBeforeIndex = j - 1;\n              xAfterIndex = j;\n            }\n          }\n\n          if (xAfterIndex === -1) {\n            plot.hideTooltip();\n            return;\n          }\n\n          var pointPrev = {\n            x: series.data[xBeforeIndex][0],\n            y: series.data[xBeforeIndex][1]\n          },\n              pointNext = {\n            x: series.data[xAfterIndex][0],\n            y: series.data[xAfterIndex][1]\n          };\n          var distToLine = dotLineLength(series.xaxis.p2c(pos.x), series.yaxis.p2c(pos.y), series.xaxis.p2c(pointPrev.x), series.yaxis.p2c(pointPrev.y), series.xaxis.p2c(pointNext.x), series.yaxis.p2c(pointNext.y), false);\n\n          if (distToLine < closestTrace.distance) {\n            var closestIndex = lineDistance(pointPrev.x, pointPrev.y, pos.x, pos.y) < lineDistance(pos.x, pos.y, pointNext.x, pointNext.y) ? xBeforeIndex : xAfterIndex;\n            var pointSize = series.datapoints.pointsize; // Calculate the point on the line vertically closest to our cursor.\n\n            var pointOnLine = [pos.x, pointPrev.y + (pointNext.y - pointPrev.y) * ((pos.x - pointPrev.x) / (pointNext.x - pointPrev.x))];\n            var item = {\n              datapoint: pointOnLine,\n              dataIndex: closestIndex,\n              series: series,\n              seriesIndex: i\n            };\n            closestTrace = {\n              distance: distToLine,\n              item: item\n            };\n\n            if (that.tooltipOptions.snap) {\n              ttPos = {\n                pageX: series.xaxis.p2c(pointOnLine[0]),\n                pageY: series.yaxis.p2c(pointOnLine[1])\n              };\n            }\n          }\n        });\n        if (closestTrace.distance < maxDistance + 1) plot.showTooltip(closestTrace.item, ttPos);else plot.hideTooltip();\n      } else {\n        plot.hideTooltip();\n      }\n    } // Quick little function for setting the tooltip position.\n\n\n    plot.setTooltipPosition = function (pos) {\n      var $tip = that.getDomElement();\n      var totalTipWidth = $tip.outerWidth() + that.tooltipOptions.shifts.x;\n      var totalTipHeight = $tip.outerHeight() + that.tooltipOptions.shifts.y;\n\n      if (pos.x - $(window).scrollLeft() > $(window)[that.wfunc]() - totalTipWidth) {\n        pos.x -= totalTipWidth;\n        pos.x = Math.max(pos.x, 0);\n      }\n\n      if (pos.y - $(window).scrollTop() > $(window)[that.hfunc]() - totalTipHeight) {\n        pos.y -= totalTipHeight;\n      }\n      /*\r\n         The section applies the new positioning ONLY if pos.x and pos.y\r\n         are numbers. If they are undefined or not a number, use the last\r\n         known numerical position. This hack fixes a bug that kept pie\r\n         charts from keeping their tooltip positioning.\r\n       */\n\n\n      if (isNaN(pos.x)) {\n        that.tipPosition.x = that.tipPosition.xPrev;\n      } else {\n        that.tipPosition.x = pos.x;\n        that.tipPosition.xPrev = pos.x;\n      }\n\n      if (isNaN(pos.y)) {\n        that.tipPosition.y = that.tipPosition.yPrev;\n      } else {\n        that.tipPosition.y = pos.y;\n        that.tipPosition.yPrev = pos.y;\n      }\n    }; // Quick little function for showing the tooltip.\n\n\n    plot.showTooltip = function (target, position, targetPosition) {\n      var $tip = that.getDomElement(); // convert tooltip content template to real tipText\n\n      var tipText = that.stringFormat(that.tooltipOptions.content, target);\n      if (tipText === '') return;\n      $tip.html(tipText);\n      plot.setTooltipPosition({\n        x: that.tipPosition.x,\n        y: that.tipPosition.y\n      });\n      $tip.css({\n        left: that.tipPosition.x + that.tooltipOptions.shifts.x,\n        top: that.tipPosition.y + that.tooltipOptions.shifts.y\n      }).show(); // run callback\n\n      if (typeof that.tooltipOptions.onHover === 'function') {\n        that.tooltipOptions.onHover(target, $tip);\n      }\n    }; // Quick little function for hiding the tooltip.\n\n\n    plot.hideTooltip = function () {\n      that.getDomElement().hide().html('');\n    };\n\n    plot.removeTooltip = function () {\n      that.getDomElement().remove();\n    };\n  };\n  /**\r\n   * get or create tooltip DOM element\r\n   * @return jQuery object\r\n   */\n\n\n  FlotTooltip.prototype.getDomElement = function () {\n    var $tip = $('<div>');\n\n    if (this.tooltipOptions && this.tooltipOptions.cssClass) {\n      $tip = $('.' + this.tooltipOptions.cssClass);\n\n      if ($tip.length === 0) {\n        $tip = $('<div />').addClass(this.tooltipOptions.cssClass);\n        $tip.appendTo('body').hide().css({\n          position: 'absolute'\n        });\n\n        if (this.tooltipOptions.defaultTheme) {\n          $tip.css({\n            'background': '#fff',\n            'z-index': '1040',\n            'padding': '0.4em 0.6em',\n            'border-radius': '0.5em',\n            'font-size': '0.8em',\n            'border': '1px solid #111',\n            'display': 'none',\n            'white-space': 'nowrap'\n          });\n        }\n      }\n    }\n\n    return $tip;\n  };\n  /**\r\n   * core function, create tooltip content\r\n   * @param  {string} content - template with tooltip content\r\n   * @param  {object} item - Flot item\r\n   * @return {string} real tooltip content for current item\r\n   */\n\n\n  FlotTooltip.prototype.stringFormat = function (content, item) {\n    var percentPattern = /%p\\.{0,1}(\\d{0,})/;\n    var seriesPattern = /%s/;\n    var colorPattern = /%c/;\n    var xLabelPattern = /%lx/; // requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels, will be ignored if plugin isn't loaded\n\n    var yLabelPattern = /%ly/; // requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels, will be ignored if plugin isn't loaded\n\n    var xPattern = /%x\\.{0,1}(\\d{0,})/;\n    var yPattern = /%y\\.{0,1}(\\d{0,})/;\n    var xPatternWithoutPrecision = \"%x\";\n    var yPatternWithoutPrecision = \"%y\";\n    var customTextPattern = \"%ct\";\n    var nPiePattern = \"%n\";\n    var x, y, customText, p, n; // for threshold plugin we need to read data from different place\n\n    if (typeof item.series.threshold !== \"undefined\") {\n      x = item.datapoint[0];\n      y = item.datapoint[1];\n      customText = item.datapoint[2];\n    } // for CurvedLines plugin we need to read data from different place\n    else if (typeof item.series.curvedLines !== \"undefined\") {\n        x = item.datapoint[0];\n        y = item.datapoint[1];\n      } else if (typeof item.series.lines !== \"undefined\" && item.series.lines.steps) {\n        x = item.series.datapoints.points[item.dataIndex * 2];\n        y = item.series.datapoints.points[item.dataIndex * 2 + 1]; // TODO: where to find custom text in this variant?\n\n        customText = \"\";\n      } else {\n        x = item.series.data[item.dataIndex][0];\n        y = item.series.data[item.dataIndex][1];\n        customText = item.series.data[item.dataIndex][2];\n      } // I think this is only in case of threshold plugin\n\n\n    if (item.series.label === null && item.series.originSeries) {\n      item.series.label = item.series.originSeries.label;\n    } // if it is a function callback get the content string\n\n\n    if (typeof content === 'function') {\n      content = content(item.series.label, x, y, item);\n    } // the case where the passed content is equal to false\n\n\n    if (typeof content === 'boolean' && !content) {\n      return '';\n    }\n    /* replacement of %ct and other multi-character templates must\r\n       precede the replacement of single-character templates\r\n       to avoid conflict between '%c' and '%ct'  and similar substrings\r\n    */\n\n\n    if (customText) {\n      content = content.replace(customTextPattern, customText);\n    } // percent match for pie charts and stacked percent\n\n\n    if (typeof item.series.percent !== 'undefined') {\n      p = item.series.percent;\n    } else if (typeof item.series.percents !== 'undefined') {\n      p = item.series.percents[item.dataIndex];\n    }\n\n    if (typeof p === 'number') {\n      content = this.adjustValPrecision(percentPattern, content, p);\n    } // replace %n with number of items represented by slice in pie charts\n\n\n    if (item.series.hasOwnProperty('pie')) {\n      if (typeof item.series.data[0][1] !== 'undefined') {\n        n = item.series.data[0][1];\n      }\n    }\n\n    if (typeof n === 'number') {\n      content = content.replace(nPiePattern, n);\n    } // series match\n\n\n    if (typeof item.series.label !== 'undefined') {\n      content = content.replace(seriesPattern, item.series.label);\n    } else {\n      //remove %s if label is undefined\n      content = content.replace(seriesPattern, \"\");\n    } // color match\n\n\n    if (typeof item.series.color !== 'undefined') {\n      content = content.replace(colorPattern, item.series.color);\n    } else {\n      //remove %s if color is undefined\n      content = content.replace(colorPattern, \"\");\n    } // x axis label match\n\n\n    if (this.hasAxisLabel('xaxis', item)) {\n      content = content.replace(xLabelPattern, item.series.xaxis.options.axisLabel);\n    } else {\n      //remove %lx if axis label is undefined or axislabels plugin not present\n      content = content.replace(xLabelPattern, \"\");\n    } // y axis label match\n\n\n    if (this.hasAxisLabel('yaxis', item)) {\n      content = content.replace(yLabelPattern, item.series.yaxis.options.axisLabel);\n    } else {\n      //remove %ly if axis label is undefined or axislabels plugin not present\n      content = content.replace(yLabelPattern, \"\");\n    } // time mode axes with custom dateFormat\n\n\n    if (this.isTimeMode('xaxis', item) && this.isXDateFormat(item)) {\n      content = content.replace(xPattern, this.timestampToDate(x, this.tooltipOptions.xDateFormat, item.series.xaxis.options));\n    }\n\n    if (this.isTimeMode('yaxis', item) && this.isYDateFormat(item)) {\n      content = content.replace(yPattern, this.timestampToDate(y, this.tooltipOptions.yDateFormat, item.series.yaxis.options));\n    } // set precision if defined\n\n\n    if (typeof x === 'number') {\n      content = this.adjustValPrecision(xPattern, content, x);\n    }\n\n    if (typeof y === 'number') {\n      content = this.adjustValPrecision(yPattern, content, y);\n    } // change x from number to given label, if given\n\n\n    if (typeof item.series.xaxis.ticks !== 'undefined') {\n      var ticks;\n\n      if (this.hasRotatedXAxisTicks(item)) {\n        // xaxis.ticks will be an empty array if tickRotor is being used, but the values are available in rotatedTicks\n        ticks = 'rotatedTicks';\n      } else {\n        ticks = 'ticks';\n      } // see https://github.com/krzysu/flot.tooltip/issues/65\n\n\n      var tickIndex = item.dataIndex + item.seriesIndex;\n\n      for (var xIndex in item.series.xaxis[ticks]) {\n        if (item.series.xaxis[ticks].hasOwnProperty(tickIndex) && !this.isTimeMode('xaxis', item)) {\n          var valueX = this.isCategoriesMode('xaxis', item) ? item.series.xaxis[ticks][tickIndex].label : item.series.xaxis[ticks][tickIndex].v;\n\n          if (valueX === x) {\n            content = content.replace(xPattern, item.series.xaxis[ticks][tickIndex].label.replace(/\\$/g, '$$$$'));\n          }\n        }\n      }\n    } // change y from number to given label, if given\n\n\n    if (typeof item.series.yaxis.ticks !== 'undefined') {\n      for (var yIndex in item.series.yaxis.ticks) {\n        if (item.series.yaxis.ticks.hasOwnProperty(yIndex)) {\n          var valueY = this.isCategoriesMode('yaxis', item) ? item.series.yaxis.ticks[yIndex].label : item.series.yaxis.ticks[yIndex].v;\n\n          if (valueY === y) {\n            content = content.replace(yPattern, item.series.yaxis.ticks[yIndex].label.replace(/\\$/g, '$$$$'));\n          }\n        }\n      }\n    } // if no value customization, use tickFormatter by default\n\n\n    if (typeof item.series.xaxis.tickFormatter !== 'undefined') {\n      //escape dollar\n      content = content.replace(xPatternWithoutPrecision, item.series.xaxis.tickFormatter(x, item.series.xaxis).replace(/\\$/g, '$$'));\n    }\n\n    if (typeof item.series.yaxis.tickFormatter !== 'undefined') {\n      //escape dollar\n      content = content.replace(yPatternWithoutPrecision, item.series.yaxis.tickFormatter(y, item.series.yaxis).replace(/\\$/g, '$$'));\n    }\n\n    return content;\n  }; // helpers just for readability\n\n\n  FlotTooltip.prototype.isTimeMode = function (axisName, item) {\n    return typeof item.series[axisName].options.mode !== 'undefined' && item.series[axisName].options.mode === 'time';\n  };\n\n  FlotTooltip.prototype.isXDateFormat = function (item) {\n    return typeof this.tooltipOptions.xDateFormat !== 'undefined' && this.tooltipOptions.xDateFormat !== null;\n  };\n\n  FlotTooltip.prototype.isYDateFormat = function (item) {\n    return typeof this.tooltipOptions.yDateFormat !== 'undefined' && this.tooltipOptions.yDateFormat !== null;\n  };\n\n  FlotTooltip.prototype.isCategoriesMode = function (axisName, item) {\n    return typeof item.series[axisName].options.mode !== 'undefined' && item.series[axisName].options.mode === 'categories';\n  }; //\n\n\n  FlotTooltip.prototype.timestampToDate = function (tmst, dateFormat, options) {\n    var theDate = $.plot.dateGenerator(tmst, options);\n    return $.plot.formatDate(theDate, dateFormat, this.tooltipOptions.monthNames, this.tooltipOptions.dayNames);\n  }; //\n\n\n  FlotTooltip.prototype.adjustValPrecision = function (pattern, content, value) {\n    var precision;\n    var matchResult = content.match(pattern);\n\n    if (matchResult !== null) {\n      if (RegExp.$1 !== '') {\n        precision = RegExp.$1;\n        value = value.toFixed(precision); // only replace content if precision exists, in other case use thickformater\n\n        content = content.replace(pattern, value);\n      }\n    }\n\n    return content;\n  }; // other plugins detection below\n  // check if flot-axislabels plugin (https://github.com/markrcote/flot-axislabels) is used and that an axis label is given\n\n\n  FlotTooltip.prototype.hasAxisLabel = function (axisName, item) {\n    return $.inArray('axisLabels', this.plotPlugins) !== -1 && typeof item.series[axisName].options.axisLabel !== 'undefined' && item.series[axisName].options.axisLabel.length > 0;\n  }; // check whether flot-tickRotor, a plugin which allows rotation of X-axis ticks, is being used\n\n\n  FlotTooltip.prototype.hasRotatedXAxisTicks = function (item) {\n    return $.inArray('tickRotor', this.plotPlugins) !== -1 && typeof item.series.xaxis.rotatedTicks !== 'undefined';\n  }; //\n\n\n  var init = function init(plot) {\n    new FlotTooltip(plot);\n  }; // define Flot plugin\n\n\n  $.plot.plugins.push({\n    init: init,\n    options: defaultOptions,\n    name: 'tooltip',\n    version: '0.8.5'\n  });\n})(jQuery);","map":{"version":3,"sources":["/usr/local/google/home/freinartz/repos/src/github.com/GoogleCloudPlatform/prometheus-clean/web/ui/react-app/node_modules/jquery.flot.tooltip/js/jquery.flot.tooltip.js"],"names":["$","defaultOptions","tooltip","show","cssClass","content","xDateFormat","yDateFormat","monthNames","dayNames","shifts","x","y","defaultTheme","snap","lines","clickTips","onHover","flotItem","$tooltipEl","$compat","tooltipOpts","FlotTooltip","plot","tipPosition","init","prototype","that","plotPluginsLength","plugins","length","plotPlugins","p","push","name","hooks","bindEvents","eventHolder","plotOptions","getOptions","tooltipOptions","wfunc","hfunc","$tip","getDomElement","getPlaceholder","bind","plothover","plotclick","clickmode","mouseMove","shutdown","unbind","removeTooltip","e","pos","pageX","pageY","setTooltipPosition","event","item","is","hideTooltip","lineDistance","p1x","p1y","p2x","p2y","Math","sqrt","dotLineLength","x0","y0","x1","y1","o","left","tg","min","max","l1","l2","a","b","c","abs","showTooltip","series","maxDistance","grid","mouseActiveRadius","closestTrace","distance","ttPos","each","getData","i","xBeforeIndex","xAfterIndex","j","data","pointPrev","pointNext","distToLine","xaxis","p2c","yaxis","closestIndex","pointSize","datapoints","pointsize","pointOnLine","datapoint","dataIndex","seriesIndex","totalTipWidth","outerWidth","totalTipHeight","outerHeight","window","scrollLeft","scrollTop","isNaN","xPrev","yPrev","target","position","targetPosition","tipText","stringFormat","html","css","top","hide","remove","addClass","appendTo","percentPattern","seriesPattern","colorPattern","xLabelPattern","yLabelPattern","xPattern","yPattern","xPatternWithoutPrecision","yPatternWithoutPrecision","customTextPattern","nPiePattern","customText","n","threshold","curvedLines","steps","points","label","originSeries","replace","percent","percents","adjustValPrecision","hasOwnProperty","color","hasAxisLabel","options","axisLabel","isTimeMode","isXDateFormat","timestampToDate","isYDateFormat","ticks","hasRotatedXAxisTicks","tickIndex","xIndex","valueX","isCategoriesMode","v","yIndex","valueY","tickFormatter","axisName","mode","tmst","dateFormat","theDate","dateGenerator","formatDate","pattern","value","precision","matchResult","match","RegExp","$1","toFixed","inArray","rotatedTicks","version","jQuery"],"mappings":"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","sourcesContent":["/*\r\n * jquery.flot.tooltip\r\n * \r\n * description: easy-to-use tooltips for Flot charts\r\n * version: 0.9.0\r\n * authors: Krzysztof Urbas @krzysu [myviews.pl],Evan Steinkerchner @Roundaround\r\n * website: https://github.com/krzysu/flot.tooltip\r\n * \r\n * build on 2016-07-26\r\n * released under MIT License, 2012\r\n*/ \r\n(function ($) {\r\n    // plugin options, default values\r\n    var defaultOptions = {\r\n        tooltip: {\r\n            show: false,\r\n            cssClass: \"flotTip\",\r\n            content: \"%s | X: %x | Y: %y\",\r\n            // allowed templates are:\r\n            // %s -> series label,\r\n            // %c -> series color,\r\n            // %lx -> x axis label (requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels),\r\n            // %ly -> y axis label (requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels),\r\n            // %x -> X value,\r\n            // %y -> Y value,\r\n            // %x.2 -> precision of X value,\r\n            // %p -> percent\r\n            // %n -> value (not percent) of pie chart\r\n            xDateFormat: null,\r\n            yDateFormat: null,\r\n            monthNames: null,\r\n            dayNames: null,\r\n            shifts: {\r\n                x: 10,\r\n                y: 20\r\n            },\r\n            defaultTheme: true,\r\n            snap: true,\r\n            lines: false,\r\n            clickTips: false,\r\n\r\n            // callbacks\r\n            onHover: function (flotItem, $tooltipEl) {},\r\n\r\n            $compat: false\r\n        }\r\n    };\r\n\r\n    // dummy default options object for legacy code (<0.8.5) - is deleted later\r\n    defaultOptions.tooltipOpts = defaultOptions.tooltip;\r\n\r\n    // object\r\n    var FlotTooltip = function (plot) {\r\n        // variables\r\n        this.tipPosition = {x: 0, y: 0};\r\n\r\n        this.init(plot);\r\n    };\r\n\r\n    // main plugin function\r\n    FlotTooltip.prototype.init = function (plot) {\r\n        var that = this;\r\n\r\n        // detect other flot plugins\r\n        var plotPluginsLength = $.plot.plugins.length;\r\n        this.plotPlugins = [];\r\n\r\n        if (plotPluginsLength) {\r\n            for (var p = 0; p < plotPluginsLength; p++) {\r\n                this.plotPlugins.push($.plot.plugins[p].name);\r\n            }\r\n        }\r\n\r\n        plot.hooks.bindEvents.push(function (plot, eventHolder) {\r\n\r\n            // get plot options\r\n            that.plotOptions = plot.getOptions();\r\n\r\n            // for legacy (<0.8.5) implementations\r\n            if (typeof(that.plotOptions.tooltip) === 'boolean') {\r\n                that.plotOptions.tooltipOpts.show = that.plotOptions.tooltip;\r\n                that.plotOptions.tooltip = that.plotOptions.tooltipOpts;\r\n                delete that.plotOptions.tooltipOpts;\r\n            }\r\n\r\n            // if not enabled return\r\n            if (that.plotOptions.tooltip.show === false || typeof that.plotOptions.tooltip.show === 'undefined') return;\r\n\r\n            // shortcut to access tooltip options\r\n            that.tooltipOptions = that.plotOptions.tooltip;\r\n\r\n            if (that.tooltipOptions.$compat) {\r\n                that.wfunc = 'width';\r\n                that.hfunc = 'height';\r\n            } else {\r\n                that.wfunc = 'innerWidth';\r\n                that.hfunc = 'innerHeight';\r\n            }\r\n\r\n            // create tooltip DOM element\r\n            var $tip = that.getDomElement();\r\n\r\n            // bind event\r\n            $( plot.getPlaceholder() ).bind(\"plothover\", plothover);\r\n            if (that.tooltipOptions.clickTips) {\r\n                $( plot.getPlaceholder() ).bind(\"plotclick\", plotclick);\r\n            }\r\n            that.clickmode = false;\r\n\r\n            $(eventHolder).bind('mousemove', mouseMove);\r\n        });\r\n\r\n        plot.hooks.shutdown.push(function (plot, eventHolder){\r\n            $(plot.getPlaceholder()).unbind(\"plothover\", plothover);\r\n            $(plot.getPlaceholder()).unbind(\"plotclick\", plotclick);\r\n            plot.removeTooltip();\r\n            $(eventHolder).unbind(\"mousemove\", mouseMove);\r\n        });\r\n\r\n        function mouseMove(e){\r\n            var pos = {};\r\n            pos.x = e.pageX;\r\n            pos.y = e.pageY;\r\n            plot.setTooltipPosition(pos);\r\n        }\r\n\r\n        /**\r\n         *  open the tooltip (if not already open) and freeze it on the current position till the next click\r\n         */\r\n        function plotclick(event, pos, item) {\r\n            if (! that.clickmode) {\r\n                // it is the click activating the clicktip\r\n                plothover(event, pos, item);\r\n                if (that.getDomElement().is(\":visible\")) {\r\n                    $(plot.getPlaceholder()).unbind(\"plothover\", plothover);\r\n                    that.clickmode = true;\r\n                }\r\n            } else {\r\n                // it is the click deactivating the clicktip\r\n                $( plot.getPlaceholder() ).bind(\"plothover\", plothover);\r\n                plot.hideTooltip();\r\n                that.clickmode = false;\r\n            }\r\n        }\r\n\r\n        function plothover(event, pos, item) {\r\n            // Simple distance formula.\r\n            var lineDistance = function (p1x, p1y, p2x, p2y) {\r\n                return Math.sqrt((p2x - p1x) * (p2x - p1x) + (p2y - p1y) * (p2y - p1y));\r\n            };\r\n\r\n            // Here is some voodoo magic for determining the distance to a line form a given point {x, y}.\r\n            var dotLineLength = function (x, y, x0, y0, x1, y1, o) {\r\n                if (o && !(o =\r\n                    function (x, y, x0, y0, x1, y1) {\r\n                        if (typeof x0 !== 'undefined') return { x: x0, y: y };\r\n                        else if (typeof y0 !== 'undefined') return { x: x, y: y0 };\r\n\r\n                        var left,\r\n                            tg = -1 / ((y1 - y0) / (x1 - x0));\r\n\r\n                        return {\r\n                            x: left = (x1 * (x * tg - y + y0) + x0 * (x * -tg + y - y1)) / (tg * (x1 - x0) + y0 - y1),\r\n                            y: tg * left - tg * x + y\r\n                        };\r\n                    } (x, y, x0, y0, x1, y1),\r\n                    o.x >= Math.min(x0, x1) && o.x <= Math.max(x0, x1) && o.y >= Math.min(y0, y1) && o.y <= Math.max(y0, y1))\r\n                ) {\r\n                    var l1 = lineDistance(x, y, x0, y0), l2 = lineDistance(x, y, x1, y1);\r\n                    return l1 > l2 ? l2 : l1;\r\n                } else {\r\n                    var a = y0 - y1, b = x1 - x0, c = x0 * y1 - y0 * x1;\r\n                    return Math.abs(a * x + b * y + c) / Math.sqrt(a * a + b * b);\r\n                }\r\n            };\r\n\r\n            if (item) {\r\n                plot.showTooltip(item, that.tooltipOptions.snap ? item : pos);\r\n            } else if (that.plotOptions.series.lines.show && that.tooltipOptions.lines === true) {\r\n                var maxDistance = that.plotOptions.grid.mouseActiveRadius;\r\n\r\n                var closestTrace = {\r\n                    distance: maxDistance + 1\r\n                };\r\n\r\n                var ttPos = pos;\r\n\r\n                $.each(plot.getData(), function (i, series) {\r\n                    var xBeforeIndex = 0,\r\n                        xAfterIndex = -1;\r\n\r\n                    // Our search here assumes our data is sorted via the x-axis.\r\n                    // TODO: Improve efficiency somehow - search smaller sets of data.\r\n                    for (var j = 1; j < series.data.length; j++) {\r\n                        if (series.data[j - 1][0] <= pos.x && series.data[j][0] >= pos.x) {\r\n                            xBeforeIndex = j - 1;\r\n                            xAfterIndex = j;\r\n                        }\r\n                    }\r\n\r\n                    if (xAfterIndex === -1) {\r\n                        plot.hideTooltip();\r\n                        return;\r\n                    }\r\n\r\n                    var pointPrev = { x: series.data[xBeforeIndex][0], y: series.data[xBeforeIndex][1] },\r\n                        pointNext = { x: series.data[xAfterIndex][0], y: series.data[xAfterIndex][1] };\r\n\r\n                    var distToLine = dotLineLength(series.xaxis.p2c(pos.x), series.yaxis.p2c(pos.y), series.xaxis.p2c(pointPrev.x),\r\n                        series.yaxis.p2c(pointPrev.y), series.xaxis.p2c(pointNext.x), series.yaxis.p2c(pointNext.y), false);\r\n\r\n                    if (distToLine < closestTrace.distance) {\r\n\r\n                        var closestIndex = lineDistance(pointPrev.x, pointPrev.y, pos.x, pos.y) <\r\n                            lineDistance(pos.x, pos.y, pointNext.x, pointNext.y) ? xBeforeIndex : xAfterIndex;\r\n\r\n                        var pointSize = series.datapoints.pointsize;\r\n\r\n                        // Calculate the point on the line vertically closest to our cursor.\r\n                        var pointOnLine = [\r\n                            pos.x,\r\n                            pointPrev.y + ((pointNext.y - pointPrev.y) * ((pos.x - pointPrev.x) / (pointNext.x - pointPrev.x)))\r\n                        ];\r\n\r\n                        var item = {\r\n                            datapoint: pointOnLine,\r\n                            dataIndex: closestIndex,\r\n                            series: series,\r\n                            seriesIndex: i\r\n                        };\r\n\r\n                        closestTrace = {\r\n                            distance: distToLine,\r\n                            item: item\r\n                        };\r\n\r\n                        if (that.tooltipOptions.snap) {\r\n                            ttPos = {\r\n                                pageX: series.xaxis.p2c(pointOnLine[0]),\r\n                                pageY: series.yaxis.p2c(pointOnLine[1])\r\n                            };\r\n                        }\r\n                    }\r\n                });\r\n\r\n                if (closestTrace.distance < maxDistance + 1)\r\n                    plot.showTooltip(closestTrace.item, ttPos);\r\n                else\r\n                    plot.hideTooltip();\r\n            } else {\r\n                plot.hideTooltip();\r\n            }\r\n        }\r\n\r\n        // Quick little function for setting the tooltip position.\r\n        plot.setTooltipPosition = function (pos) {\r\n            var $tip = that.getDomElement();\r\n\r\n            var totalTipWidth = $tip.outerWidth() + that.tooltipOptions.shifts.x;\r\n            var totalTipHeight = $tip.outerHeight() + that.tooltipOptions.shifts.y;\r\n            if ((pos.x - $(window).scrollLeft()) > ($(window)[that.wfunc]() - totalTipWidth)) {\r\n                pos.x -= totalTipWidth;\r\n                pos.x = Math.max(pos.x, 0);\r\n            }\r\n            if ((pos.y - $(window).scrollTop()) > ($(window)[that.hfunc]() - totalTipHeight)) {\r\n                pos.y -= totalTipHeight;\r\n            }\r\n\r\n\t    /*\r\n\t       The section applies the new positioning ONLY if pos.x and pos.y\r\n\t       are numbers. If they are undefined or not a number, use the last\r\n\t       known numerical position. This hack fixes a bug that kept pie\r\n\t       charts from keeping their tooltip positioning.\r\n\t     */\r\n\r\n            if (isNaN(pos.x)) {\r\n\t\tthat.tipPosition.x = that.tipPosition.xPrev;\r\n\t    }\r\n\t    else {\r\n\t\tthat.tipPosition.x = pos.x;\r\n\t\tthat.tipPosition.xPrev = pos.x;\r\n\t    }\r\n\t    if (isNaN(pos.y)) {\r\n\t\tthat.tipPosition.y = that.tipPosition.yPrev;\r\n\t    }\r\n\t    else {\r\n\t\tthat.tipPosition.y = pos.y;\r\n\t\tthat.tipPosition.yPrev = pos.y;\r\n\t    }\r\n\r\n        };\r\n\r\n        // Quick little function for showing the tooltip.\r\n        plot.showTooltip = function (target, position, targetPosition) {\r\n            var $tip = that.getDomElement();\r\n\r\n            // convert tooltip content template to real tipText\r\n            var tipText = that.stringFormat(that.tooltipOptions.content, target);\r\n            if (tipText === '')\r\n                return;\r\n\r\n            $tip.html(tipText);\r\n            plot.setTooltipPosition({ x: that.tipPosition.x, y: that.tipPosition.y });\r\n            $tip.css({\r\n                left: that.tipPosition.x + that.tooltipOptions.shifts.x,\r\n                top: that.tipPosition.y + that.tooltipOptions.shifts.y\r\n            }).show();\r\n\r\n            // run callback\r\n            if (typeof that.tooltipOptions.onHover === 'function') {\r\n                that.tooltipOptions.onHover(target, $tip);\r\n            }\r\n        };\r\n\r\n        // Quick little function for hiding the tooltip.\r\n        plot.hideTooltip = function () {\r\n            that.getDomElement().hide().html('');\r\n        };\r\n\r\n        plot.removeTooltip = function() {\r\n            that.getDomElement().remove();\r\n        };\r\n    };\r\n\r\n    /**\r\n     * get or create tooltip DOM element\r\n     * @return jQuery object\r\n     */\r\n    FlotTooltip.prototype.getDomElement = function () {\r\n        var $tip = $('<div>');\r\n        if (this.tooltipOptions && this.tooltipOptions.cssClass) {\r\n            $tip = $('.' + this.tooltipOptions.cssClass);\r\n\r\n            if( $tip.length === 0 ){\r\n                $tip = $('<div />').addClass(this.tooltipOptions.cssClass);\r\n                $tip.appendTo('body').hide().css({position: 'absolute'});\r\n\r\n                if(this.tooltipOptions.defaultTheme) {\r\n                    $tip.css({\r\n                        'background': '#fff',\r\n                        'z-index': '1040',\r\n                        'padding': '0.4em 0.6em',\r\n                        'border-radius': '0.5em',\r\n                        'font-size': '0.8em',\r\n                        'border': '1px solid #111',\r\n                        'display': 'none',\r\n                        'white-space': 'nowrap'\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        return $tip;\r\n    };\r\n\r\n    /**\r\n     * core function, create tooltip content\r\n     * @param  {string} content - template with tooltip content\r\n     * @param  {object} item - Flot item\r\n     * @return {string} real tooltip content for current item\r\n     */\r\n    FlotTooltip.prototype.stringFormat = function (content, item) {\r\n        var percentPattern = /%p\\.{0,1}(\\d{0,})/;\r\n        var seriesPattern = /%s/;\r\n        var colorPattern = /%c/;\r\n        var xLabelPattern = /%lx/; // requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels, will be ignored if plugin isn't loaded\r\n        var yLabelPattern = /%ly/; // requires flot-axislabels plugin https://github.com/markrcote/flot-axislabels, will be ignored if plugin isn't loaded\r\n        var xPattern = /%x\\.{0,1}(\\d{0,})/;\r\n        var yPattern = /%y\\.{0,1}(\\d{0,})/;\r\n        var xPatternWithoutPrecision = \"%x\";\r\n        var yPatternWithoutPrecision = \"%y\";\r\n        var customTextPattern = \"%ct\";\r\n\tvar nPiePattern = \"%n\";\r\n\r\n        var x, y, customText, p, n;\r\n\r\n        // for threshold plugin we need to read data from different place\r\n        if (typeof item.series.threshold !== \"undefined\") {\r\n            x = item.datapoint[0];\r\n            y = item.datapoint[1];\r\n            customText = item.datapoint[2];\r\n\t}\r\n\r\n\t// for CurvedLines plugin we need to read data from different place\r\n\t    else if (typeof item.series.curvedLines !== \"undefined\") {\r\n\t\tx = item.datapoint[0];\r\n\t\ty = item.datapoint[1];\r\n\t    }\r\n\r\n        else if (typeof item.series.lines !== \"undefined\" && item.series.lines.steps) {\r\n            x = item.series.datapoints.points[item.dataIndex * 2];\r\n            y = item.series.datapoints.points[item.dataIndex * 2 + 1];\r\n            // TODO: where to find custom text in this variant?\r\n            customText = \"\";\r\n        } else {\r\n            x = item.series.data[item.dataIndex][0];\r\n            y = item.series.data[item.dataIndex][1];\r\n            customText = item.series.data[item.dataIndex][2];\r\n        }\r\n\r\n        // I think this is only in case of threshold plugin\r\n        if (item.series.label === null && item.series.originSeries) {\r\n            item.series.label = item.series.originSeries.label;\r\n        }\r\n\r\n        // if it is a function callback get the content string\r\n        if (typeof(content) === 'function') {\r\n            content = content(item.series.label, x, y, item);\r\n        }\r\n\r\n        // the case where the passed content is equal to false\r\n        if (typeof(content) === 'boolean' && !content) {\r\n            return '';\r\n        }\r\n\r\n        /* replacement of %ct and other multi-character templates must\r\n           precede the replacement of single-character templates\r\n           to avoid conflict between '%c' and '%ct'  and similar substrings\r\n        */\r\n        if (customText) {\r\n            content = content.replace(customTextPattern, customText);\r\n        }\r\n\r\n        // percent match for pie charts and stacked percent\r\n        if (typeof (item.series.percent) !== 'undefined') {\r\n            p = item.series.percent;\r\n        } else if (typeof (item.series.percents) !== 'undefined') {\r\n            p = item.series.percents[item.dataIndex];\r\n        }\r\n        if (typeof p === 'number') {\r\n            content = this.adjustValPrecision(percentPattern, content, p);\r\n        }\r\n\r\n        // replace %n with number of items represented by slice in pie charts\r\n        if (item.series.hasOwnProperty('pie')) {\r\n            if (typeof item.series.data[0][1] !== 'undefined') {\r\n                n = item.series.data[0][1];\r\n            }\r\n        }\r\n        if (typeof n === 'number') {\r\n            content = content.replace(nPiePattern, n);\r\n        }\r\n\r\n        // series match\r\n        if (typeof(item.series.label) !== 'undefined') {\r\n            content = content.replace(seriesPattern, item.series.label);\r\n        } else {\r\n            //remove %s if label is undefined\r\n            content = content.replace(seriesPattern, \"\");\r\n        }\r\n\r\n        // color match\r\n        if (typeof(item.series.color) !== 'undefined') {\r\n            content = content.replace(colorPattern, item.series.color);\r\n        } else {\r\n            //remove %s if color is undefined\r\n            content = content.replace(colorPattern, \"\");\r\n        }\r\n\r\n        // x axis label match\r\n        if (this.hasAxisLabel('xaxis', item)) {\r\n            content = content.replace(xLabelPattern, item.series.xaxis.options.axisLabel);\r\n        } else {\r\n            //remove %lx if axis label is undefined or axislabels plugin not present\r\n            content = content.replace(xLabelPattern, \"\");\r\n        }\r\n\r\n        // y axis label match\r\n        if (this.hasAxisLabel('yaxis', item)) {\r\n            content = content.replace(yLabelPattern, item.series.yaxis.options.axisLabel);\r\n        } else {\r\n            //remove %ly if axis label is undefined or axislabels plugin not present\r\n            content = content.replace(yLabelPattern, \"\");\r\n        }\r\n\r\n        // time mode axes with custom dateFormat\r\n        if (this.isTimeMode('xaxis', item) && this.isXDateFormat(item)) {\r\n            content = content.replace(xPattern, this.timestampToDate(x, this.tooltipOptions.xDateFormat, item.series.xaxis.options));\r\n        }\r\n        if (this.isTimeMode('yaxis', item) && this.isYDateFormat(item)) {\r\n            content = content.replace(yPattern, this.timestampToDate(y, this.tooltipOptions.yDateFormat, item.series.yaxis.options));\r\n        }\r\n\r\n        // set precision if defined\r\n        if (typeof x === 'number') {\r\n            content = this.adjustValPrecision(xPattern, content, x);\r\n        }\r\n        if (typeof y === 'number') {\r\n            content = this.adjustValPrecision(yPattern, content, y);\r\n        }\r\n\r\n        // change x from number to given label, if given\r\n        if (typeof item.series.xaxis.ticks !== 'undefined') {\r\n\r\n            var ticks;\r\n            if (this.hasRotatedXAxisTicks(item)) {\r\n                // xaxis.ticks will be an empty array if tickRotor is being used, but the values are available in rotatedTicks\r\n                ticks = 'rotatedTicks';\r\n            } else {\r\n                ticks = 'ticks';\r\n            }\r\n\r\n            // see https://github.com/krzysu/flot.tooltip/issues/65\r\n            var tickIndex = item.dataIndex + item.seriesIndex;\r\n\r\n            for (var xIndex in item.series.xaxis[ticks]) {\r\n                if (item.series.xaxis[ticks].hasOwnProperty(tickIndex) && !this.isTimeMode('xaxis', item)) {\r\n                    var valueX = (this.isCategoriesMode('xaxis', item)) ? item.series.xaxis[ticks][tickIndex].label : item.series.xaxis[ticks][tickIndex].v;\r\n                    if (valueX === x) {\r\n                        content = content.replace(xPattern, item.series.xaxis[ticks][tickIndex].label.replace(/\\$/g, '$$$$'));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // change y from number to given label, if given\r\n        if (typeof item.series.yaxis.ticks !== 'undefined') {\r\n            for (var yIndex in item.series.yaxis.ticks) {\r\n                if (item.series.yaxis.ticks.hasOwnProperty(yIndex)) {\r\n                    var valueY = (this.isCategoriesMode('yaxis', item)) ? item.series.yaxis.ticks[yIndex].label : item.series.yaxis.ticks[yIndex].v;\r\n                    if (valueY === y) {\r\n                        content = content.replace(yPattern, item.series.yaxis.ticks[yIndex].label.replace(/\\$/g, '$$$$'));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // if no value customization, use tickFormatter by default\r\n        if (typeof item.series.xaxis.tickFormatter !== 'undefined') {\r\n            //escape dollar\r\n            content = content.replace(xPatternWithoutPrecision, item.series.xaxis.tickFormatter(x, item.series.xaxis).replace(/\\$/g, '$$'));\r\n        }\r\n        if (typeof item.series.yaxis.tickFormatter !== 'undefined') {\r\n            //escape dollar\r\n            content = content.replace(yPatternWithoutPrecision, item.series.yaxis.tickFormatter(y, item.series.yaxis).replace(/\\$/g, '$$'));\r\n        }\r\n\r\n        return content;\r\n    };\r\n\r\n    // helpers just for readability\r\n    FlotTooltip.prototype.isTimeMode = function (axisName, item) {\r\n        return (typeof item.series[axisName].options.mode !== 'undefined' && item.series[axisName].options.mode === 'time');\r\n    };\r\n\r\n    FlotTooltip.prototype.isXDateFormat = function (item) {\r\n        return (typeof this.tooltipOptions.xDateFormat !== 'undefined' && this.tooltipOptions.xDateFormat !== null);\r\n    };\r\n\r\n    FlotTooltip.prototype.isYDateFormat = function (item) {\r\n        return (typeof this.tooltipOptions.yDateFormat !== 'undefined' && this.tooltipOptions.yDateFormat !== null);\r\n    };\r\n\r\n    FlotTooltip.prototype.isCategoriesMode = function (axisName, item) {\r\n        return (typeof item.series[axisName].options.mode !== 'undefined' && item.series[axisName].options.mode === 'categories');\r\n    };\r\n\r\n    //\r\n    FlotTooltip.prototype.timestampToDate = function (tmst, dateFormat, options) {\r\n        var theDate = $.plot.dateGenerator(tmst, options);\r\n        return $.plot.formatDate(theDate, dateFormat, this.tooltipOptions.monthNames, this.tooltipOptions.dayNames);\r\n    };\r\n\r\n    //\r\n    FlotTooltip.prototype.adjustValPrecision = function (pattern, content, value) {\r\n\r\n        var precision;\r\n        var matchResult = content.match(pattern);\r\n        if( matchResult !== null ) {\r\n            if(RegExp.$1 !== '') {\r\n                precision = RegExp.$1;\r\n                value = value.toFixed(precision);\r\n\r\n                // only replace content if precision exists, in other case use thickformater\r\n                content = content.replace(pattern, value);\r\n            }\r\n        }\r\n        return content;\r\n    };\r\n\r\n    // other plugins detection below\r\n\r\n    // check if flot-axislabels plugin (https://github.com/markrcote/flot-axislabels) is used and that an axis label is given\r\n    FlotTooltip.prototype.hasAxisLabel = function (axisName, item) {\r\n        return ($.inArray('axisLabels', this.plotPlugins) !== -1 && typeof item.series[axisName].options.axisLabel !== 'undefined' && item.series[axisName].options.axisLabel.length > 0);\r\n    };\r\n\r\n    // check whether flot-tickRotor, a plugin which allows rotation of X-axis ticks, is being used\r\n    FlotTooltip.prototype.hasRotatedXAxisTicks = function (item) {\r\n        return ($.inArray('tickRotor',this.plotPlugins) !== -1 && typeof item.series.xaxis.rotatedTicks !== 'undefined');\r\n    };\r\n\r\n    //\r\n    var init = function (plot) {\r\n      new FlotTooltip(plot);\r\n    };\r\n\r\n    // define Flot plugin\r\n    $.plot.plugins.push({\r\n        init: init,\r\n        options: defaultOptions,\r\n        name: 'tooltip',\r\n        version: '0.8.5'\r\n    });\r\n\r\n})(jQuery);\r\n"]},"metadata":{},"sourceType":"script"}