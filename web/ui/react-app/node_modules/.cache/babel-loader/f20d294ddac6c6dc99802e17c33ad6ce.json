{"ast":null,"code":"/**\n *\n * THIS FILE WAS COPIED INTO PROMETHEUS FROM GRAFANA'S VENDORED FORK OF FLOT\n * (LIVING AT https://github.com/grafana/grafana/tree/master/public/vendor/flot),\n * WHICH CONTAINS FIXES FOR DISPLAYING NULL VALUES IN STACKED GRAPHS. THE ORIGINAL\n * FLOT CODE WAS LICENSED UNDER THE MIT LICENSE AS STATED BELOW. ADDITIONAL\n * CHANGES HAVE BEEN CONTRIBUTED TO THE GRAFANA FORK UNDER AN APACHE 2 LICENSE, SEE\n * https://github.com/grafana/grafana/blob/master/license.\n *\n */ /* eslint-disable prefer-spread */ /* eslint-disable no-loop-func */ /* eslint-disable @typescript-eslint/no-this-alias */ /* eslint-disable no-redeclare */ /* eslint-disable no-useless-escape */ /* eslint-disable prefer-const */ /* eslint-disable @typescript-eslint/explicit-function-return-type */ /* eslint-disable @typescript-eslint/no-use-before-define */ /* eslint-disable eqeqeq */ /* eslint-disable no-var */ /* Flot plugin for showing crosshairs when the mouse hovers over the plot.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\n\tcrosshair: {\n\t\tmode: null or \"x\" or \"y\" or \"xy\"\n\t\tcolor: color\n\t\tlineWidth: number\n\t}\n\nSet the mode to one of \"x\", \"y\" or \"xy\". The \"x\" mode enables a vertical\ncrosshair that lets you trace the values on the x axis, \"y\" enables a\nhorizontal crosshair and \"xy\" enables them both. \"color\" is the color of the\ncrosshair (default is \"rgba(170, 0, 0, 0.80)\"), \"lineWidth\" is the width of\nthe drawn lines (default is 1).\n\nThe plugin also adds four public methods:\n\n  - setCrosshair( pos )\n\n    Set the position of the crosshair. Note that this is cleared if the user\n    moves the mouse. \"pos\" is in coordinates of the plot and should be on the\n    form { x: xpos, y: ypos } (you can use x2/x3/... if you're using multiple\n    axes), which is coincidentally the same format as what you get from a\n    \"plothover\" event. If \"pos\" is null, the crosshair is cleared.\n\n  - clearCrosshair()\n\n    Clear the crosshair.\n\n  - lockCrosshair(pos)\n\n    Cause the crosshair to lock to the current location, no longer updating if\n    the user moves the mouse. Optionally supply a position (passed on to\n    setCrosshair()) to move it to.\n\n    Example usage:\n\n\tvar myFlot = $.plot( $(\"#graph\"), ..., { crosshair: { mode: \"x\" } } };\n\t$(\"#graph\").bind( \"plothover\", function ( evt, position, item ) {\n\t\tif ( item ) {\n\t\t\t// Lock the crosshair to the data point being hovered\n\t\t\tmyFlot.lockCrosshair({\n\t\t\t\tx: item.datapoint[ 0 ],\n\t\t\t\ty: item.datapoint[ 1 ]\n\t\t\t});\n\t\t} else {\n\t\t\t// Return normal crosshair operation\n\t\t\tmyFlot.unlockCrosshair();\n\t\t}\n\t});\n\n  - unlockCrosshair()\n\n    Free the crosshair to move again after locking it.\n*/(function($){var options={crosshair:{mode:null,// one of null, \"x\", \"y\" or \"xy\",\ncolor:'rgba(170, 0, 0, 0.80)',lineWidth:1}};function init(plot){// position of crosshair in pixels\nvar crosshair={x:-1,y:-1,locked:false};plot.setCrosshair=function setCrosshair(pos){if(!pos)crosshair.x=-1;else{var o=plot.p2c(pos);crosshair.x=Math.max(0,Math.min(o.left,plot.width()));crosshair.y=Math.max(0,Math.min(o.top,plot.height()));}plot.triggerRedrawOverlay();};plot.clearCrosshair=plot.setCrosshair;// passes null for pos\nplot.lockCrosshair=function lockCrosshair(pos){if(pos)plot.setCrosshair(pos);crosshair.locked=true;};plot.unlockCrosshair=function unlockCrosshair(){crosshair.locked=false;};function onMouseOut(){if(crosshair.locked)return;if(crosshair.x!=-1){crosshair.x=-1;plot.triggerRedrawOverlay();}}function onMouseMove(e){if(crosshair.locked)return;if(plot.getSelection&&plot.getSelection()){crosshair.x=-1;// hide the crosshair while selecting\nreturn;}var offset=plot.offset();crosshair.x=Math.max(0,Math.min(e.pageX-offset.left,plot.width()));crosshair.y=Math.max(0,Math.min(e.pageY-offset.top,plot.height()));plot.triggerRedrawOverlay();}plot.hooks.bindEvents.push(function(plot,eventHolder){if(!plot.getOptions().crosshair.mode)return;eventHolder.mouseout(onMouseOut);eventHolder.mousemove(onMouseMove);});plot.hooks.drawOverlay.push(function(plot,ctx){var c=plot.getOptions().crosshair;if(!c.mode)return;var plotOffset=plot.getPlotOffset();ctx.save();ctx.translate(plotOffset.left,plotOffset.top);if(crosshair.x!=-1){var adj=plot.getOptions().crosshair.lineWidth%2?0.5:0;ctx.strokeStyle=c.color;ctx.lineWidth=c.lineWidth;ctx.lineJoin='round';ctx.beginPath();if(c.mode.indexOf('x')!=-1){var drawX=Math.floor(crosshair.x)+adj;ctx.moveTo(drawX,0);ctx.lineTo(drawX,plot.height());}if(c.mode.indexOf('y')!=-1){var drawY=Math.floor(crosshair.y)+adj;ctx.moveTo(0,drawY);ctx.lineTo(plot.width(),drawY);}ctx.stroke();}ctx.restore();});plot.hooks.shutdown.push(function(plot,eventHolder){eventHolder.unbind('mouseout',onMouseOut);eventHolder.unbind('mousemove',onMouseMove);});}$.plot.plugins.push({init:init,options:options,name:'crosshair',version:'1.0'});})(window.jQuery);","map":{"version":3,"sources":["/usr/local/google/home/freinartz/repos/src/github.com/GoogleCloudPlatform/prometheus-clean/web/ui/react-app/src/vendor/flot/jquery.flot.crosshair.js"],"names":["$","options","crosshair","mode","color","lineWidth","init","plot","x","y","locked","setCrosshair","pos","o","p2c","Math","max","min","left","width","top","height","triggerRedrawOverlay","clearCrosshair","lockCrosshair","unlockCrosshair","onMouseOut","onMouseMove","e","getSelection","offset","pageX","pageY","hooks","bindEvents","push","eventHolder","getOptions","mouseout","mousemove","drawOverlay","ctx","c","plotOffset","getPlotOffset","save","translate","adj","strokeStyle","lineJoin","beginPath","indexOf","drawX","floor","moveTo","lineTo","drawY","stroke","restore","shutdown","unbind","plugins","name","version","window","jQuery"],"mappings":"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","sourcesContent":["/**\n *\n * THIS FILE WAS COPIED INTO PROMETHEUS FROM GRAFANA'S VENDORED FORK OF FLOT\n * (LIVING AT https://github.com/grafana/grafana/tree/master/public/vendor/flot),\n * WHICH CONTAINS FIXES FOR DISPLAYING NULL VALUES IN STACKED GRAPHS. THE ORIGINAL\n * FLOT CODE WAS LICENSED UNDER THE MIT LICENSE AS STATED BELOW. ADDITIONAL\n * CHANGES HAVE BEEN CONTRIBUTED TO THE GRAFANA FORK UNDER AN APACHE 2 LICENSE, SEE\n * https://github.com/grafana/grafana/blob/master/license.\n *\n */\n\n/* eslint-disable prefer-spread */\n/* eslint-disable no-loop-func */\n/* eslint-disable @typescript-eslint/no-this-alias */\n/* eslint-disable no-redeclare */\n/* eslint-disable no-useless-escape */\n/* eslint-disable prefer-const */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable eqeqeq */\n/* eslint-disable no-var */\n/* Flot plugin for showing crosshairs when the mouse hovers over the plot.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\n\tcrosshair: {\n\t\tmode: null or \"x\" or \"y\" or \"xy\"\n\t\tcolor: color\n\t\tlineWidth: number\n\t}\n\nSet the mode to one of \"x\", \"y\" or \"xy\". The \"x\" mode enables a vertical\ncrosshair that lets you trace the values on the x axis, \"y\" enables a\nhorizontal crosshair and \"xy\" enables them both. \"color\" is the color of the\ncrosshair (default is \"rgba(170, 0, 0, 0.80)\"), \"lineWidth\" is the width of\nthe drawn lines (default is 1).\n\nThe plugin also adds four public methods:\n\n  - setCrosshair( pos )\n\n    Set the position of the crosshair. Note that this is cleared if the user\n    moves the mouse. \"pos\" is in coordinates of the plot and should be on the\n    form { x: xpos, y: ypos } (you can use x2/x3/... if you're using multiple\n    axes), which is coincidentally the same format as what you get from a\n    \"plothover\" event. If \"pos\" is null, the crosshair is cleared.\n\n  - clearCrosshair()\n\n    Clear the crosshair.\n\n  - lockCrosshair(pos)\n\n    Cause the crosshair to lock to the current location, no longer updating if\n    the user moves the mouse. Optionally supply a position (passed on to\n    setCrosshair()) to move it to.\n\n    Example usage:\n\n\tvar myFlot = $.plot( $(\"#graph\"), ..., { crosshair: { mode: \"x\" } } };\n\t$(\"#graph\").bind( \"plothover\", function ( evt, position, item ) {\n\t\tif ( item ) {\n\t\t\t// Lock the crosshair to the data point being hovered\n\t\t\tmyFlot.lockCrosshair({\n\t\t\t\tx: item.datapoint[ 0 ],\n\t\t\t\ty: item.datapoint[ 1 ]\n\t\t\t});\n\t\t} else {\n\t\t\t// Return normal crosshair operation\n\t\t\tmyFlot.unlockCrosshair();\n\t\t}\n\t});\n\n  - unlockCrosshair()\n\n    Free the crosshair to move again after locking it.\n*/\n\n(function($) {\n  const options = {\n    crosshair: {\n      mode: null, // one of null, \"x\", \"y\" or \"xy\",\n      color: 'rgba(170, 0, 0, 0.80)',\n      lineWidth: 1,\n    },\n  };\n\n  function init(plot) {\n    // position of crosshair in pixels\n    const crosshair = { x: -1, y: -1, locked: false };\n\n    plot.setCrosshair = function setCrosshair(pos) {\n      if (!pos) crosshair.x = -1;\n      else {\n        const o = plot.p2c(pos);\n        crosshair.x = Math.max(0, Math.min(o.left, plot.width()));\n        crosshair.y = Math.max(0, Math.min(o.top, plot.height()));\n      }\n\n      plot.triggerRedrawOverlay();\n    };\n\n    plot.clearCrosshair = plot.setCrosshair; // passes null for pos\n\n    plot.lockCrosshair = function lockCrosshair(pos) {\n      if (pos) plot.setCrosshair(pos);\n      crosshair.locked = true;\n    };\n\n    plot.unlockCrosshair = function unlockCrosshair() {\n      crosshair.locked = false;\n    };\n\n    function onMouseOut() {\n      if (crosshair.locked) return;\n\n      if (crosshair.x != -1) {\n        crosshair.x = -1;\n        plot.triggerRedrawOverlay();\n      }\n    }\n\n    function onMouseMove(e) {\n      if (crosshair.locked) return;\n\n      if (plot.getSelection && plot.getSelection()) {\n        crosshair.x = -1; // hide the crosshair while selecting\n        return;\n      }\n\n      const offset = plot.offset();\n      crosshair.x = Math.max(0, Math.min(e.pageX - offset.left, plot.width()));\n      crosshair.y = Math.max(0, Math.min(e.pageY - offset.top, plot.height()));\n      plot.triggerRedrawOverlay();\n    }\n\n    plot.hooks.bindEvents.push(function(plot, eventHolder) {\n      if (!plot.getOptions().crosshair.mode) return;\n\n      eventHolder.mouseout(onMouseOut);\n      eventHolder.mousemove(onMouseMove);\n    });\n\n    plot.hooks.drawOverlay.push(function(plot, ctx) {\n      const c = plot.getOptions().crosshair;\n      if (!c.mode) return;\n\n      const plotOffset = plot.getPlotOffset();\n\n      ctx.save();\n      ctx.translate(plotOffset.left, plotOffset.top);\n\n      if (crosshair.x != -1) {\n        const adj = plot.getOptions().crosshair.lineWidth % 2 ? 0.5 : 0;\n\n        ctx.strokeStyle = c.color;\n        ctx.lineWidth = c.lineWidth;\n        ctx.lineJoin = 'round';\n\n        ctx.beginPath();\n        if (c.mode.indexOf('x') != -1) {\n          const drawX = Math.floor(crosshair.x) + adj;\n          ctx.moveTo(drawX, 0);\n          ctx.lineTo(drawX, plot.height());\n        }\n        if (c.mode.indexOf('y') != -1) {\n          const drawY = Math.floor(crosshair.y) + adj;\n          ctx.moveTo(0, drawY);\n          ctx.lineTo(plot.width(), drawY);\n        }\n        ctx.stroke();\n      }\n      ctx.restore();\n    });\n\n    plot.hooks.shutdown.push(function(plot, eventHolder) {\n      eventHolder.unbind('mouseout', onMouseOut);\n      eventHolder.unbind('mousemove', onMouseMove);\n    });\n  }\n\n  $.plot.plugins.push({\n    init: init,\n    options: options,\n    name: 'crosshair',\n    version: '1.0',\n  });\n})(window.jQuery);\n"]},"metadata":{},"sourceType":"module"}